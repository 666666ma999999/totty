# 🔮 占いチャットシステム - 蒼司の占い館

イケメン霊能師 蒼司があなたの心を癒し、未来への道標をお示しするWEBアプリケーションです。

## ✨ 主な機能

### 💬 インタラクティブチャット
- イケメン霊能師「蒼司」とのリアルタイムチャット
- ユーザーの悩みや愚痴を共感的に受け止め
- 12種類の第3文カテゴリによる多様な応答パターン

### 📊 リアルタイム分析表示
- **ラリー回数**: チャットのやり取り回数
- **I値**: 知性・洞察スコア（0-100）
- **データ収集状況**: 5カテゴリの収集進捗
- **検出ニーズ**: 5つのニーズの自動検出と可視化
- **RESORT-TI 8次元分析**: 総合的な心理分析
- **感情分析値**: 感情極性・強度・主要感情
- **占い提案タイミングスコア**: 占い提案の最適タイミング
- **第3文カテゴリ**: 選択されたカテゴリと適合度

### 🌟 パーソナライズ占い
- **7種類の占いメニュー**: 相手の本音、恋愛相性、進展タイミング等
- **自動メニューマッチング**: ユーザーデータに基づく最適提案
- **リアルタイム提案**: 条件達成時の自動占い提案

## 🏗️ システム構成

### MDファイル設定駆動開発
```
totty2/
├── config/                     # 設定ファイル
│   └── main_config.md         # メイン設定
├── systems/                   # システムファイル
│   ├── needs_detection.md     # ニーズ判別システム
│   ├── third_sentence_categories.md # 第3文カテゴリ定義
│   ├── data_collection.md     # データ収集システム
│   ├── analysis_system.md     # RESORT-TI分析システム
│   ├── fortune_system.md      # 占いシステム
│   ├── fortune_menu_matching.md # メニューマッチング
│   └── category_selection.md  # カテゴリ選択システム
├── characters/                # キャラクター設定
│   └── psychic-character.md   # イケメン霊能師設定
├── data/                      # データファイル
│   └── data_structure_171.md  # データ構造定義
├── fortune_menus/             # 占いメニュー
│   └── fortune_menu_database.md # メニューデータベース
├── index.html                 # メインページ
├── styles.css                 # スタイルシート
└── app.js                     # アプリケーションロジック
```

## 🚀 使用方法

### 1. ローカル実行
```bash
# プロジェクトディレクトリに移動
cd totty2

# ローカルサーバーで起動（例：Python）
python3 -m http.server 8010

# ブラウザでアクセス
http://localhost:8010
```

### 2. 基本操作
1. **チャット開始**: テキストエリアに悩みや想いを入力
2. **リアルタイム確認**: 右側のサイドバーで分析結果をリアルタイム表示
3. **占い提案**: 条件が整うと占いメニューが自動提案
4. **占い実行**: 提案された占いをクリックして結果表示

## 📈 システム特徴

### ニーズ判別システム（5種類）
- **愚痴・傾聴**: ユーザーの感情を受け止め
- **感情整理**: 混乱した気持ちの整理支援
- **承認欲求**: 努力や価値の認識・賞賛
- **励まし**: 落ち込みや不安への励まし
- **孤独感**: 寄り添いと安心感の提供

### RESORT-TI 8次元分析
- **R** - Relationship（人間関係）
- **E** - Emotion（感情）
- **S** - Spirit（精神性）
- **O** - Occupation（職業）
- **R** - Romance（恋愛）
- **T** - Time（時間・未来志向）
- **I** - Intelligence（知性）

### データ収集システム（171項目）
- 基本情報（20項目）
- 心理・感情データ（50項目）
- 恋愛・人間関係（50項目）
- 仕事・キャリア（30項目）
- スピリチュアル・価値観（21項目）

## 🎯 占いメニュー

1. **相手の本音占い** - 気になる人の本当の気持ち
2. **恋愛相性診断** - お二人の恋愛相性分析
3. **恋愛進展タイミング** - 関係進展の最適タイミング
4. **運命の相手探し** - 運命の相手の特徴と出会い
5. **復縁可能性診断** - 元恋人との復縁可能性
6. **人間関係修復** - こじれた関係の修復方法
7. **総合運勢・人生指針** - 総合運勢と人生の方向性

## ⚙️ カスタマイズ

### MDファイルによる柔軟な設定変更
- **ニーズ検出キーワード**: `systems/needs_detection.md`
- **応答カテゴリ**: `systems/third_sentence_categories.md`
- **占いメニュー**: `fortune_menus/fortune_menu_database.md`
- **キャラクター設定**: `characters/psychic-character.md`

### パラメータ調整例
```markdown
# needs_detection.md内
### 検出しきい値
- 単一ニーズ: 0.5 → 0.6 (より厳格に)
- 複数ニーズ: 0.3 → 0.4
```

## 🎨 UI/UX特徴

- **レスポンシブデザイン**: PC・タブレット・スマホ対応
- **リアルタイム更新**: 1秒間隔での自動表示更新
- **プログレッシブUI**: 分析結果の視覚的表示
- **モーダル占い結果**: 占い結果の専用表示

## 🔧 技術仕様

- **フロントエンド**: HTML5, CSS3, JavaScript (ES6+)
- **デザイン**: CSS Grid, Flexbox, グラデーション
- **データ管理**: JSON形式、ローカルストレージ対応可
- **アニメーション**: CSS Transition, Transform
- **互換性**: モダンブラウザ対応

## 📝 今後の拡張予定

- バックエンドAPI連携（FastAPI）
- AI分析エンジン統合（GPT-4o, Claude）
- ユーザーデータ永続化
- 占いメニューの動的追加
- キャラクター選択機能

---

💫 *あなたの心に寄り添い、未来への希望をお届けします* 💫