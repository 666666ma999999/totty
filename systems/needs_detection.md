# ニーズ判別システム

## システム概要
ユーザーの発言から5種類のニーズを自動検出し、適切な応答を提供するシステム

## 検出対象ニーズ（5カテゴリ）

### 1. 愚痴・傾聴ニーズ
**検出キーワード**:
- "疲れた", "うんざり", "愚痴", "聞いて", "つらい"
- "ストレス", "もう嫌だ", "理解してもらえない"

**重み設定**: 0.8
**応答タイプ**: 共感・傾聴

### 2. 感情整理ニーズ  
**検出キーワード**:
- "混乱", "わからない", "整理", "考えがまとまらない"
- "どうしたらいい", "判断できない", "迷っている"

**重み設定**: 0.7
**応答タイプ**: 整理支援・問いかけ

### 3. 承認欲求ニーズ
**検出キーワード**:
- "認めて", "頑張った", "評価", "誉めて", "見て"
- "すごい", "できた", "達成", "がんばってる"

**重み設定**: 0.6
**応答タイプ**: 承認・賞賛

### 4. 励ましニーズ
**検出キーワード**:
- "落ち込む", "自信ない", "不安", "心配", "怖い"
- "だめ", "失敗", "うまくいかない", "元気がない"

**重み設定**: 0.9
**応答タイプ**: 励まし・勇気づけ

### 5. 孤独感ニーズ
**検出キーワード**:
- "一人", "寂しい", "孤独", "理解者がいない", "話し相手"
- "味方がいない", "支えてくれる人", "仲間"

**重み設定**: 0.8
**応答タイプ**: 寄り添い・共感

## 判定アルゴリズム

### 基本判定ロジック
1. **キーワードマッチング**: 発言内のキーワード出現回数 × 重み
2. **感情スコア**: -1.0～1.0の感情極性値
3. **文脈考慮**: 前後の会話履歴からの推定値

### 判定式
```
ニーズスコア = (キーワード重み × 出現回数) + 感情スコア + 文脈スコア
最終判定 = max(ニーズスコア) > しきい値(0.5)
```

### 複数ニーズ検出時の優先度
1. 励ましニーズ（重み: 0.9）
2. 愚痴・傾聴ニーズ（重み: 0.8）
3. 孤独感ニーズ（重み: 0.8）
4. 感情整理ニーズ（重み: 0.7）
5. 承認欲求ニーズ（重み: 0.6）

## パラメータ設定

### 検出しきい値
- 単一ニーズ: 0.5
- 複数ニーズ: 0.3（複合判定時）
- 文脈考慮: 0.2

### チューニング可能要素
- キーワード重み値
- 感情極性しきい値  
- 文脈考慮範囲（直近N回の発言）
- ニーズ優先度順位